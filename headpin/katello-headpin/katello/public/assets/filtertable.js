(function(a){a.uiTableFilter=function(d,e,f,c){var i=false;if(this.last_phrase===e){return false}var m=e.length;var j=e.toLowerCase().split(" ");var g=function(n){n.show()};var k=function(n){n.hide();i=true};var l=function(n){return n.text()};if(f){var h=null;d.find("thead > tr:last > th").each(function(n){if(a.trim(a(this).text())==f){h=n;return false}});if(h==null){throw ("given column: "+f+" not found")}l=function(n){return a(n.find(("td:eq("+h+")"))).text()}}if((j.size>1)&&(e.substr(0,m-1)===this.last_phrase)){if(e[-1]===" "){this.last_phrase=e;return false}var j=j[-1];g=function(n){};var b=d.find("tbody:first > tr:visible").not(".not_filtered")}else{i=true;var b=d.find("tbody:first > tr").not(".not_filtered")}b.each(function(){var n=a(this);a.uiTableFilter.has_words(l(n),j,false)?g(n):k(n)});last_phrase=e;if(c&&i){c()}return d};a.uiTableFilter.last_phrase="";a.uiTableFilter.has_words=function(f,e,b){var d=b?f:f.toLowerCase();for(var c=0;c<e.length;c++){if(d.indexOf(e[c])===-1){return false}}return true}})(jQuery);var filtertable=(function(){return{initialize:function(){var b=$("table.filter_table");var a=$("#filter");a.live("change, keyup",function(){$.uiTableFilter(b,this.value)});$("#filter_form").submit(function(){a.keyup();return false}).focus()}}})();$(document).ready(function(){filtertable.initialize()});