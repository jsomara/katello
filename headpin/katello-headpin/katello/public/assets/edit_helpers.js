$(document).ready(function(){var a={method:"PUT",cancel:i18n.cancel,submit:i18n.save,indicator:i18n.saving,tooltip:i18n.clickToEdit,placeholder:i18n.clickToEdit,submitdata:$.extend({authenticity_token:AUTH_TOKEN},KT.common.getSearchParams()),onerror:function(c,b,d){b.reset();$("#notification").replaceWith(d.responseText);notices.checkNotices()}};$.editable.addInputType("number",{element:function(e,c){var d=e.width?e.width:"40",b=jQuery('<input type="number" min="0"max="'+e.max+'"value="'+e.value+'" style="width:'+d+'px;">');$(this).append(b);$(c).css("background-image","none");return(b)},content:function(b,d,c){$(":input:first",this).val(d.value)}});$(".ajaxfileupload").each(function(){$(this).editable($(this).attr("url"),{type:"ajaxupload",method:"PUT",name:$(this).attr("name"),cancel:i18n.cancel,submit:i18n.upload,indicator:i18n.uploading,tooltip:i18n.clickToEdit,placeholder:i18n.clickToEdit,submitdata:{authenticity_token:AUTH_TOKEN},onerror:function(c,b,d){b.reset();$("#notification").replaceWith(d.responseText)}})});$(".edit_panel_element").each(function(){var b={type:"text",width:270,name:$(this).attr("name"),onsuccess:function(c,d,e){var f=$("#panel_element_id");KT.panel.list.refresh(f.attr("value"),f.attr("data-ajax_url"))}};$(this).editable($(this).attr("data-url"),$.extend(a,b))});$(".edit_password").each(function(){var b={type:"password",width:270,name:$(this).attr("name")};$(this).editable($(this).attr("data-url"),$.extend(a,b))});$(".edit_textfield").each(function(){var b={type:"text",width:270,name:$(this).attr("name")};$(this).editable($(this).attr("data-url"),$.extend(a,b))});$(".edit_textarea").each(function(){var b={type:"textarea",name:$(this).attr("name"),rows:8,cols:36};$(this).editable($(this).attr("data-url"),$.extend(a,b))});$(".edit_select").each(function(){var b=$(this);var c={type:"select",name:b.attr("name"),data:b.data("options"),onsuccess:function(d,e,g){var f=b.data("options");f.selected=d;b.html(f[d])}};$(this).editable($(this).attr("data-url"),$.extend(a,c))});$(".edit_number").each(function(){var b=$(this);var c={method:"POST",type:"number",value:$.trim($(this).html()),height:10,width:35,name:$(this).attr("name"),max:$.trim($(this).parent().find(".available").html()),image:$(this).css("background-image"),submitdata:{authenticity_token:AUTH_TOKEN,subscription_id:b.attr("id")},onsuccess:function(d,e,f){b.css("background-image",c.image);b.html(d)},onresetcomplete:function(e,d){b.css("background-image",e.image)}};b.editable(b.attr("data-url"),$.extend(a,c))})});