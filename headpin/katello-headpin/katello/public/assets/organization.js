KT.panel.list.registerPage("organizations",{create:"new_organization"});$(document).ready(function(){var a=KT.env_select_scroll({});KT.panel.set_expand_cb(function(){a.bind(undefined)});$(".environment_link").live("click",function(){$(this).siblings().show()});$(".environment_create").live("click",function(e){var c=$(this);c.addClass("disabled");e.preventDefault();var d=$(this).closest("form");var b=d.attr("action");var f=d.serialize();$.ajax({type:"POST",url:b,data:f,cache:false,success:function(){KT.panel.panelAjax("",c.attr("data-url"),$("#panel"));KT.panel.closeSubPanel($("#subpanel"))},error:function(){c.removeClass("disabled")}})});$("#debug_cert").live("click",function(){$("#show_debug_button").slideToggle();var b=$(this).parent().find("img");if(b.attr("src").indexOf("collapsed")===-1){b.attr("src",KT.common.rootURL()+"images/icons/expander-collapsed.png")}else{b.attr("src",KT.common.rootURL()+"images/icons/expander-expanded.png")}return false});$("#download_debug_cert_key").live("click",function(b){b.preventDefault();url=$("#download_debug_cert_key").data("url");window.location.href=url;return false})});KT.env_select_scroll=function(d){var c=20,e=30,b=75,a=400,f=20;var g=function(h){if(!h){h=".jbreadcrumb"}$(h).each(function(){var i=$(this),m=$(this).width(),j=0,l=i.find("a"),k=b;l.unbind("mouseout").unbind("mouseover").width("auto");l.each(function(){j+=$(this).width()+c});if(i.find(".active").length===0){k=e}if(j<m){return true}l.each(function(){var q=$(this),r=undefined,p=undefined,v=q.width(),o=e;var s=((c+e)*(l.length-2))+c+k;if(m<(s+v+c)){v=m-s-c-5}if(q.hasClass("active")){o=k;if(o>v){return}}$(this).width(o);var t=(v-e)/a,x=t*1000/f,w=(v-e)/x;var u=function(){if(r){clearInterval(r);r=undefined}},n=function(){if(p){clearInterval(p);p=undefined}};q.mouseover(function(){if(p){return false}u();p=setInterval(function(){var y=q.width();if(y<v){u();q.width(y+w)}else{n()}},f)});q.mouseout(function(){if(r){return false}n();r=setInterval(function(){var y=q.width();if(y>=o){n();q.width(y-w)}else{u()}},f)})})})};return{bind:g}};