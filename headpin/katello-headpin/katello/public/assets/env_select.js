KT.env_select_scroll=function(d){var c=20,e=30,b=75,a=400,f=20;var g=function(h){if(!h){h=".jbreadcrumb"}$(h).each(function(){var i=$(this),m=$(this).width(),j=0,l=i.find("a"),k=b;l.unbind("mouseout").unbind("mouseover").width("auto");l.each(function(){j+=$(this).width()+c});if(i.find(".active").length===0){k=e}if(j<m){return true}l.each(function(){var q=$(this),r=undefined,p=undefined,v=q.width(),o=e;var s=((c+e)*(l.length-2))+c+k;if(m<(s+v+c)){v=m-s-c-5}if(q.hasClass("active")){o=k;if(o>v){return}}$(this).width(o);var t=(v-e)/a,x=t*1000/f,w=(v-e)/x;var u=function(){if(r){clearInterval(r);r=undefined}},n=function(){if(p){clearInterval(p);p=undefined}};q.mouseover(function(){if(p){return false}u();p=setInterval(function(){var y=q.width();if(y<v){u();q.width(y+w)}else{n()}},f)});q.mouseout(function(){if(r){return false}n();r=setInterval(function(){var y=q.width();if(y>=o){n();q.width(y-w)}else{u()}},f)})})})};return{bind:g}};var env_select={scroll_obj:undefined,click_callback:undefined,env_changed_callback:function(a){},active_div:undefined,recalc_scroll:function(){$(".path_entries").show();env_select.scroll_obj.bind();$(".path_entries").hide()},expand:function(){$("#path-collapsed").hide();$("#path-expanded").show();$("#path-entries").show()},close:function(){$("#path-collapsed").show();$("#path-expanded").hide();$("#path-entries").hide()},path_selected:function(){env_select.close();var a=$(this).html();$("#path-selected").find("ul").html(a);env_select.active_div=$(this);env_select.highlight_selected();if(env_select.env_changed_callback){env_select.env_changed_callback(env_select.get_selected_env())}return false},get_selected_env:function(){return $(".path_link.active").attr("data-env_id")},set_selected:function(a){$("[data-env_id="+a+"].path_link").click()},env_selected:function(){env_select.close();var a=$(this).attr("data-env_id");$("a[data-env_id]").removeClass("active");$('a[data-env_id="'+a+'"]').addClass("active");$(this).parentsUntil(".path_entry").trigger("click");if(env_select.click_callback){env_select.click_callback(a,$(this))}if(env_select.env_changed_callback){env_select.env_changed_callback(a)}env_select.recalc_scroll();return false},disable_active:function(){$(".path_entry").removeClass("path_entry_selected")},is_open:function(){return $("#path-entries").is(":visible")},highlight_selected:function(){$(".path_entry").removeClass("path_entry_selected");env_select.active_div.addClass("path_entry_selected");return false},reset_hover:function(){$("#path-container").hoverIntent({over:env_select.expand,timeout:500,interval:200,out:env_select.close})}};$(function(){$("#path-expanded").hide();$("#path-collapsed").live("click",env_select.expand);$("#path-expanded").live("click",env_select.close);$(".path_link").live("click",env_select.env_selected);$(".path_entry").live("click",env_select.path_selected);$("#path-entries").mouseover(env_select.disable_active);$("#path-entries").mouseout(env_select.highlight_selected);env_select.active_div=$(".path_link.active").parents(".path_entry");env_select.highlight_selected();$("body").click(function(a){if(!($(a.target).parents("#path-entries").size()>0)&&env_select.is_open()){env_select.close()}});env_select.reset_hover();env_select.scroll_obj=KT.env_select_scroll({});env_select.recalc_scroll()});