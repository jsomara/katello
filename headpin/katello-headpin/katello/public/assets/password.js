KT.password=function(){var e=false;var b=function(){var h=$(".verify_password");var g=$("#password_field").val();var f=$("#confirm_field").val();if(g!=f){$("#password_conflict").text(i18n.password_match);$(h).addClass("disabled");$("#save_password").die("click");$("#save_user").die("click");return false}else{$("#password_conflict").text("");$(h).removeClass("disabled");$("#save_password").die("click");$("#save_password").live("click",d);return true}},d=function(){var h=$(this);var g=h.attr("data-url");var f=$("#password_field").val();h.addClass("disabled");$.ajax({type:"PUT",url:g,data:{user:{password:f}},cache:false,success:function(i,k,j){h.removeClass("disabled");if(e&&j.status<400){window.location.replace(KT.routes.root_path())}},error:function(i){h.removeClass("disabled")}})},a=function(){$("#password_field").live("keyup.katello",b);$("#confirm_field").live("keyup.katello",b);$("#save_password").live("click",d)},c=function(f){e=f};return{verifyPassword:b,changePassword:d,registerEvents:a,resettingPassword:c}}();$(document).ready(function(){KT.password.registerEvents();KT.password.resettingPassword(true);ratings=[{minScore:0,className:"meterFail",text:i18n.very_weak},{minScore:25,className:"meterWarn",text:i18n.weak},{minScore:50,className:"meterGood",text:i18n.good},{minScore:75,className:"meterExcel",text:i18n.strong}]});